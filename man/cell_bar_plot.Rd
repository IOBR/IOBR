% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cell_bar_plot.R
\name{cell_bar_plot}
\alias{cell_bar_plot}
\title{Visualize Cell Fractions as Stacked Bar Chart}
\usage{
cell_bar_plot(
  input,
  id = "ID",
  title = "Cell Fraction",
  features = NULL,
  pattern = NULL,
  legend.position = "bottom",
  coord_filp = TRUE,
  palette = 3,
  show_col = F,
  cols = NULL
)
}
\arguments{
\item{input}{Data frame containing deconvolution results (e.g., from CIBERSORT,
quanTIseq, or EPIC).}

\item{id}{Character string specifying the column name containing sample identifiers.
Default is \code{"ID"}.}

\item{title}{Character string specifying the plot title. Default is \code{"Cell Fraction"}.}

\item{features}{Character vector specifying column names representing cell types to
plot. If \code{NULL}, columns are selected based on \code{pattern}. Default is
\code{NULL}.}

\item{pattern}{Character string or regular expression to match column names for
automatic feature selection. Used when \code{features} is \code{NULL}. Default is
\code{NULL}.}

\item{legend.position}{Character string specifying legend position (\code{"bottom"},
\code{"top"}, \code{"left"}, \code{"right"}). Default is \code{"bottom"}.}

\item{coord_filp}{Logical indicating whether to flip plot coordinates using
\code{coord_flip()}. Default is \code{TRUE}.}

\item{palette}{Integer specifying the color palette to use. Default is 3.}

\item{show_col}{Logical indicating whether to display color information. Default is
\code{FALSE}.}

\item{cols}{Character vector of custom colors. If \code{NULL}, palette is used.
Default is \code{NULL}.}
}
\value{
A ggplot2 object representing the stacked bar chart of cell fractions.
}
\description{
Creates stacked bar charts to visualize tumor microenvironment (TME) cell fractions.
Supports batch visualization of deconvolution results from methods such as CIBERSORT,
EPIC, and quanTIseq. Enables comparison of TME cell distributions across samples.
}
\examples{
# Load TCGA-STAD microenvironment data
data("sig_stad", package = "IOBR")
# Visualize TME cell proportions from CIBERSORT deconvolution
cell_bar_plot(input = sig_stad[1:20, ], id = "ID",
              features = colnames(sig_stad)[25:46])
}
\author{
Dongqiang Zeng
}
